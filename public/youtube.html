<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HERA VIP PLAYER</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; padding: 5px; margin: 0; }
        .search-box { display: flex; gap: 2px; margin-bottom: 5px; }
        input { flex: 1; padding: 5px; background: #222; color: #fff; border: 1px solid #0f0; }
        button { background: #050; color: #fff; border: 1px solid #0f0; font-weight: bold; }
        
        .video-item { 
            border-bottom: 1px solid #333; 
            padding: 5px 0; 
            display: flex; 
            gap: 5px; 
        }
        img { width: 70px; height: 50px; object-fit: cover; border: 1px solid #333; }
        .info { flex: 1; overflow: hidden; }
        .title { font-size: 13px; color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: block; }
        .meta { font-size: 11px; color: #888; }
        
        /* NÚT TẢI */
        .btn-group { display: flex; gap: 2px; margin-top: 3px; }
        .btn-dl { 
            flex: 1; 
            font-size: 10px; 
            padding: 4px; 
            text-align: center; 
            text-decoration: none; 
            color: #000; 
            font-weight: bold;
        }
        .btn-sumo { background: #fa0; } /* Màu cam cho Sumo */
        .btn-hera { background: #0ff; } /* Màu xanh ngọc cho Hera */
    </style>
</head>
<body>

    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Tìm..." onkeypress="if(event.key==='Enter') doSearch()">
        <button onclick="doSearch()">TÌM</button>
    </div>

    <div id="results">
        <div style="text-align:center; color:#555; margin-top:20px;">
            Nhập tên video rồi bấm TÌM<br>
            (Lịch sử đang bảo trì)
        </div>
    </div>

    <script>
        async function doSearch() {
            const q = document.getElementById('searchInput').value;
            if(!q) return;
            document.getElementById('results').innerHTML = 'Đang tìm...';
            
            try {
                const res = await fetch('/api/search?q=' + encodeURIComponent(q));
                const data = await res.json();
                
                let html = '';
                data.forEach(v => {
                    html += `
                    <div class="video-item">
                        <img src="${v.thumbnail}">
                        <div class="info">
                            <span class="title">${v.title}</span>
                            <div class="meta">⏱ ${v.duration}</div>
                            <div class="btn-group">
                                <a href="/download?id=${v.id}&mode=sumo" class="btn-dl btn-sumo">TẢI 3GP (Sumo)</a>
                                <a href="/download?id=${v.id}&mode=hera" class="btn-dl btn-hera">TẢI MP4 (Hera)</a>
                            </div>
                        </div>
                    </div>`;
                });
                document.getElementById('results').innerHTML = html;
            } catch (e) {
                document.getElementById('results').innerHTML = 'Lỗi: ' + e;
            }
        }
    </script>
</body>
</html>